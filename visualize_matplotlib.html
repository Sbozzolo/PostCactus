

<!doctype html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Visualizing data with matplotlib &#8212; kuibit 1.0.0b0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Building command-line scripts" href="argparse_helper.html" />
    <link rel="prev" title="Unit conversion and constants" href="unitconv.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="argparse_helper.html" title="Building command-line scripts"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="unitconv.html" title="Unit conversion and constants"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">kuibit 1.0.0b0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Visualizing data with matplotlib</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="visualizing-data-with-matplotlib">
<h1>Visualizing data with matplotlib<a class="headerlink" href="#visualizing-data-with-matplotlib" title="Permalink to this headline">¶</a></h1>
<p>The module <a class="reference internal" href="visualize_matplotlib_ref.html#module-kuibit.visualize_matplotlib" title="kuibit.visualize_matplotlib"><code class="xref py py-mod docutils literal notranslate"><span class="pre">visualize_matplotlib</span></code></a> contains functions to easily
visualize Einstein Toolkit data with <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>
(<a class="reference internal" href="visualize_matplotlib_ref.html#module-kuibit.visualize_matplotlib"><span class="std std-ref">Reference on kuibit.visualize_matplotlib</span></a>). For
3D visualization, look at <a class="reference internal" href="visualize_mayavi_ref.html#module-kuibit.visualize_mayavi" title="kuibit.visualize_mayavi"><code class="xref py py-mod docutils literal notranslate"><span class="pre">visualize_mayavi</span></code></a>.</p>
<div class="section" id="grid-functions">
<h2>Grid functions<a class="headerlink" href="#grid-functions" title="Permalink to this headline">¶</a></h2>
<p>The main way to visualize grid data is with the functions <code class="xref py py-mod docutils literal notranslate"><span class="pre">plot_color</span></code>
and <code class="xref py py-mod docutils literal notranslate"><span class="pre">plot_contourf</span></code>. These method support a large variety of inputs:</p>
<ul class="simple">
<li><p>NumPy arrays, with coordintes specified by the <code class="docutils literal notranslate"><span class="pre">coordinates</span></code> keyword.</p></li>
<li><p><a class="reference internal" href="grid_data_ref.html#kuibit.grid_data.UniformGridData" title="kuibit.grid_data.UniformGridData"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniformGridData</span></code></a>: it will be plotted over the entire domain,
unless the keywords <code class="docutils literal notranslate"><span class="pre">x0</span></code>, <code class="docutils literal notranslate"><span class="pre">x1</span></code> and <code class="docutils literal notranslate"><span class="pre">shape</span></code> are provided. These
specify the extent of the grid to be plotted. <code class="docutils literal notranslate"><span class="pre">shape</span></code> is essentially the
resolution of the plot. See documentation on grid data for details.</p></li>
<li><p><a class="reference internal" href="grid_data_ref.html#kuibit.grid_data.HierarchicalGridData" title="kuibit.grid_data.HierarchicalGridData"><code class="xref py py-class docutils literal notranslate"><span class="pre">HierarchicalGridData</span></code></a>: it will be plotted over the entire domain,
with resolution provided by <code class="docutils literal notranslate"><span class="pre">shape</span></code>. The keywords <code class="docutils literal notranslate"><span class="pre">x0</span></code>, <code class="docutils literal notranslate"><span class="pre">x1</span></code> can change
the grid extent.</p></li>
<li><p><a class="reference internal" href="cactus_grid_functions_ref.html#kuibit.cactus_grid_functions.BaseOneGridFunction" title="kuibit.cactus_grid_functions.BaseOneGridFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseOneGridFunction</span></code></a>: same as <a class="reference internal" href="grid_data_ref.html#kuibit.grid_data.HierarchicalGridData" title="kuibit.grid_data.HierarchicalGridData"><code class="xref py py-class docutils literal notranslate"><span class="pre">HierarchicalGridData</span></code></a>,
but you also have to provide the iteration with the <code class="docutils literal notranslate"><span class="pre">iteration</span></code> keyword.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">shape</span></code>, <code class="docutils literal notranslate"><span class="pre">x0</span></code>, <code class="docutils literal notranslate"><span class="pre">x1</span></code> are all 2D lists or tuples. The function also takes
<code class="docutils literal notranslate"><span class="pre">xlabel</span></code> and <code class="docutils literal notranslate"><span class="pre">ylabel</span></code> to customize the labels.</p>
<p>Plots can be enanched by adding a colorbar with <code class="xref py py-mod docutils literal notranslate"><span class="pre">plot_colorbar</span></code> or by
adding text in the bottom right corner with
<code class="xref py py-mod docutils literal notranslate"><span class="pre">add_text_to_figure_corner</span></code> (for example the time).</p>
</div>
<div class="section" id="horizons">
<h2>Horizons<a class="headerlink" href="#horizons" title="Permalink to this headline">¶</a></h2>
<p>Apparent horizons can be plotted with <code class="xref py py-func docutils literal notranslate"><span class="pre">plot_horizon_shape()</span></code>. This
function takes the 2D shape of an horizon as returned by
<a class="reference internal" href="cactus_horizons_ref.html#kuibit.cactus_horizons.OneHorizon.shape_outline_at_iteration" title="kuibit.cactus_horizons.OneHorizon.shape_outline_at_iteration"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shape_outline_at_iteration()</span></code></a> or <a class="reference internal" href="cactus_horizons_ref.html#kuibit.cactus_horizons.OneHorizon.shape_outline_at_time" title="kuibit.cactus_horizons.OneHorizon.shape_outline_at_time"><code class="xref py py-meth docutils literal notranslate"><span class="pre">shape_outline_at_time()</span></code></a>.
There are two wrappers around this function to simplify plotting horizons on the
usual planes <code class="docutils literal notranslate"><span class="pre">xy</span></code>, <code class="docutils literal notranslate"><span class="pre">xz</span></code>, and <code class="docutils literal notranslate"><span class="pre">yz</span></code>:
<code class="xref py py-func docutils literal notranslate"><span class="pre">plot_horizon_shape_on_plane_at_iteration()</span></code> and
<code class="xref py py-func docutils literal notranslate"><span class="pre">plot_horizon_shape_on_plane_at_time()</span></code>. These take an
<a class="reference internal" href="cactus_horizons_ref.html#kuibit.cactus_horizons.OneHorizon" title="kuibit.cactus_horizons.OneHorizon"><code class="xref py py-class docutils literal notranslate"><span class="pre">OneHorizon</span></code></a> object, the iteration/time that has to be plotted, and
the plane over which you are plotting. All these functions take also the color
of the horizon, the color of its boundary, and the opacity (<code class="docutils literal notranslate"><span class="pre">alpha</span></code>).</p>
</div>
<div class="section" id="implementation-details">
<h2>Implementation details<a class="headerlink" href="#implementation-details" title="Permalink to this headline">¶</a></h2>
<p>In <a class="reference internal" href="visualize_matplotlib_ref.html#module-kuibit.visualize_matplotlib" title="kuibit.visualize_matplotlib"><code class="xref py py-mod docutils literal notranslate"><span class="pre">visualize_matplotlib</span></code></a>, we embrace duck-typing. Ideally, we want to
be able to plot what the user wants to plot, taking care of the nuisances. This
includes: numpy arrays, <a class="reference internal" href="grid_data_ref.html#kuibit.grid_data.UniformGridData" title="kuibit.grid_data.UniformGridData"><code class="xref py py-class docutils literal notranslate"><span class="pre">UniformGridData</span></code></a>,
<a class="reference internal" href="grid_data_ref.html#kuibit.grid_data.HierarchicalGridData" title="kuibit.grid_data.HierarchicalGridData"><code class="xref py py-class docutils literal notranslate"><span class="pre">HierarchicalGridData</span></code></a>, and so on. To abstract away the details of
how to handle all the different types, we have decorators. For example, with the
decorator <code class="xref py py-class docutils literal notranslate"><span class="pre">_preprocess_plot_grid</span></code>, we give support to handling all
the differnt types to any function that takes <code class="docutils literal notranslate"><span class="pre">data</span></code> and and <code class="docutils literal notranslate"><span class="pre">coordiantes</span></code>
as arguments. This can be used for other functions too.</p>
<p>The methods <code class="xref py py-mod docutils literal notranslate"><span class="pre">plot_color</span></code> and <code class="xref py py-mod docutils literal notranslate"><span class="pre">plot_contourf</span></code> call a
primitive <code class="xref py py-mod docutils literal notranslate"><span class="pre">_plot_grid</span></code> which implements all the different types of
plots avoiding code duplication.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Visualizing data with matplotlib</a><ul>
<li><a class="reference internal" href="#grid-functions">Grid functions</a></li>
<li><a class="reference internal" href="#horizons">Horizons</a></li>
<li><a class="reference internal" href="#implementation-details">Implementation details</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="unitconv.html"
                        title="previous chapter">Unit conversion and constants</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="argparse_helper.html"
                        title="next chapter">Building command-line scripts</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="argparse_helper.html" title="Building command-line scripts"
             >next</a> |</li>
        <li class="right" >
          <a href="unitconv.html" title="Unit conversion and constants"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">kuibit 1.0.0b0 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Visualizing data with matplotlib</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020-2021, Gabriele Bozzola.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.2.
    </div>
  </body>
</html>